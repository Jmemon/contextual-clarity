# =============================================================================
# Contextual Clarity - Production Environment Configuration
# =============================================================================
# Copy this file to .env.production and fill in your production values.
# NEVER commit .env.production to version control!
#
# Required variables are marked with [REQUIRED]
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Environment mode - MUST be 'production' for production deployments
NODE_ENV=production

# Port for the HTTP server
# The Dockerfile exposes port 3000, so keep this as 3000 unless you modify the Dockerfile
PORT=3000

# Host binding (0.0.0.0 allows external connections in Docker)
HOST=0.0.0.0

# -----------------------------------------------------------------------------
# Database Configuration [REQUIRED]
# -----------------------------------------------------------------------------
# Database type: 'postgres' for production (sqlite for local dev only)
DATABASE_TYPE=postgres

# [REQUIRED] PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# Examples:
#   - Local: postgresql://postgres:password@localhost:5432/contextual_clarity
#   - Docker: postgresql://postgres:password@db:5432/contextual_clarity
#   - Cloud: postgresql://user:pass@your-cloud-db.com:5432/contextual_clarity
DATABASE_URL=postgresql://user:password@host:5432/contextual_clarity

# -----------------------------------------------------------------------------
# Anthropic API Configuration [REQUIRED]
# -----------------------------------------------------------------------------
# [REQUIRED] Get your API key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# Model to use for conversations (default: claude-sonnet-4-5-20250929)
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# Maximum tokens for LLM responses
ANTHROPIC_MAX_TOKENS=32768

# -----------------------------------------------------------------------------
# Storage Configuration
# -----------------------------------------------------------------------------
# Directory for storing uploaded source materials
# In Docker, this should be a mounted volume for persistence
SOURCES_DIR=/app/data/sources

# -----------------------------------------------------------------------------
# CORS Configuration (Optional)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
# Leave empty to allow same-origin only
# Example: https://app.example.com,https://admin.example.com
ALLOWED_ORIGINS=

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Time window for rate limiting in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window for general API endpoints
RATE_LIMIT_MAX_REQUESTS=100

# Maximum requests per window for LLM endpoints (more restrictive)
RATE_LIMIT_LLM_MAX_REQUESTS=10

# -----------------------------------------------------------------------------
# Security (Optional, for future auth implementation)
# -----------------------------------------------------------------------------
# JWT secret for token signing (generate with: openssl rand -base64 32)
# JWT_SECRET=your-256-bit-secret

# Session cookie settings
# SESSION_SECRET=another-random-secret
# COOKIE_SECURE=true
# COOKIE_DOMAIN=.yourdomain.com
